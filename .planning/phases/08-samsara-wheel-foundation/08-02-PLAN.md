---
phase: 08-samsara-wheel-foundation
plan: 02
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/renderer/routes/ProjectView.tsx
  - src/renderer/components/wheel/types.ts
  - src/renderer/components/wheel/SamsaraWheel.tsx
  - src/renderer/components/wheel/WheelSection.tsx
  - src/renderer/components/wheel/YamaHub.tsx
  - src/renderer/styles/globals.css
autonomous: false

must_haves:
  truths:
    - "User sees 5 colored wedges arranged in a circle with labels and icons when inside a project"
    - "User can click any wedge to navigate to that section route"
    - "Yama hub in center displays eye icon with breathing pulse animation"
    - "Unbuilt sections show Coming Soon badge on hover tooltip"
    - "Hovering a wedge shows stats tooltip (placeholder values for now)"
    - "Decorative ring outside wedges gives Bhavachakra-inspired feel"
    - "Clicking Candidate Search wedge navigates to /project/:id/search and shows M1 features"
  artifacts:
    - path: "src/renderer/components/wheel/SamsaraWheel.tsx"
      provides: "Main SVG wheel with 5 wedges, decorative ring, Yama hub"
      min_lines: 80
    - path: "src/renderer/components/wheel/WheelSection.tsx"
      provides: "Individual SVG wedge with hover, click, tooltip"
      min_lines: 40
    - path: "src/renderer/components/wheel/YamaHub.tsx"
      provides: "Center hub with Eye icon and breathing pulse"
      min_lines: 25
    - path: "src/renderer/components/wheel/types.ts"
      provides: "Section definitions, colors, routes, stats interfaces"
      min_lines: 30
  key_links:
    - from: "src/renderer/components/wheel/WheelSection.tsx"
      to: "react-router-dom navigate"
      via: "onClick -> navigate(`/project/${id}/${section.route}`)"
      pattern: "navigate.*section\\.route"
    - from: "src/renderer/routes/ProjectView.tsx"
      to: "src/renderer/components/wheel/SamsaraWheel.tsx"
      via: "renders SamsaraWheel as the wheel view"
      pattern: "SamsaraWheel"
---

<objective>
Build the Samsara Wheel SVG component with 5 navigable wedges, Yama center hub, decorative Bhavachakra ring, and Motion hover animations.

Purpose: This is the visual centerpiece of M2 — the wheel is how users navigate between recruitment workflow sections. It replaces the old flat project view with an elevated, visually rich navigation hub.

Output: A fully interactive SVG wheel that fills the project view, with click-to-navigate wedges, hover tooltips with stats, breathing Yama hub, and decorative outer ring.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-samsara-wheel-foundation/08-RESEARCH.md
@.planning/phases/08-samsara-wheel-foundation/08-CONTEXT.md
@.planning/phases/08-samsara-wheel-foundation/08-01-SUMMARY.md
@src/renderer/routes/ProjectView.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create wheel types and build SamsaraWheel SVG component</name>
  <files>
    src/renderer/components/wheel/types.ts
    src/renderer/components/wheel/WheelSection.tsx
    src/renderer/components/wheel/YamaHub.tsx
    src/renderer/components/wheel/SamsaraWheel.tsx
    src/renderer/styles/globals.css
    src/renderer/routes/ProjectView.tsx
  </files>
  <action>
1. Create `src/renderer/components/wheel/types.ts`:
   - Define WheelSectionDef interface: { id: string, name: string, route: string, icon: LucideIcon, color: string (HSL), comingSoon: boolean, stats?: { label: string, value: string }[] }
   - Define WHEEL_SECTIONS array with 5 sections:
     - Candidate Search: route="search", icon=Search, color="hsl(210 60% 70%)" (soft blue), comingSoon=false
     - Candidate Outreach: route="outreach", icon=Phone, color="hsl(160 50% 65%)" (soft green), comingSoon=true
     - Client Coordination: route="coordination", icon=Users, color="hsl(35 60% 70%)" (soft amber), comingSoon=true
     - Data Entry: route="data-entry", icon=Database, color="hsl(180 50% 65%)" (soft teal), comingSoon=true
     - Business Development: route="business-dev", icon=TrendingUp, color="hsl(340 50% 70%)" (soft rose), comingSoon=true
   - Export SVG constants: INNER_RADIUS=80, OUTER_RADIUS=220, VIEWBOX="-260 -260 520 520"
   - Export getWedgePath(index: number) function using the trigonometric calculation from research (5 sections, start from top with -PI/2 offset)

2. Create `src/renderer/components/wheel/WheelSection.tsx`:
   - Props: { section: WheelSectionDef, index: number, onClick: () => void }
   - Render as motion.g (from motion/react) with cursor pointer
   - motion.path with d={getWedgePath(index)}, fill={section.color}, stroke="hsl(0 0% 20%)", strokeWidth=1.5
   - whileHover on the group: scale 1.05, transition spring stiffness=300 damping=20
   - Position icon and label at the wedge centroid:
     - Centroid angle = index * (2*PI/5) - PI/2 + (PI/5) (middle of wedge)
     - Centroid radius = (INNER_RADIUS + OUTER_RADIUS) / 2
     - Use foreignObject at centroid position to render the Lucide icon and text label
     - Icon: 24x24, rendered via the section.icon component
     - Label: below icon, text-xs, fill white
   - If section.comingSoon, add a small "Coming Soon" text below the label in muted color
   - Tooltip on hover: use @radix-ui/react-tooltip wrapping the group. Tooltip content shows section name and placeholder stats (e.g., "Pipeline: 0", "Response rate: --")
     - NOTE: Radix tooltip may not work directly on SVG elements. If so, implement hover state in React state and render an absolutely positioned div tooltip over the SVG. Use onMouseEnter/onMouseLeave on the motion.g.

3. Create `src/renderer/components/wheel/YamaHub.tsx`:
   - Render center circle at origin (0,0) with radius=INNER_RADIUS
   - Dark fill (hsl(0 0% 8%)) with subtle border ring
   - Eye icon from lucide-react centered in the hub (use foreignObject)
   - "Yama" text below the eye icon, small/muted
   - "Coming Soon" label in tiny muted text
   - Apply breathing pulse CSS class "yama-breathe" to the eye icon wrapper
   - Add subtle concentric decorative rings inside the hub (2-3 thin rings at different radii, very low opacity)

4. Create `src/renderer/components/wheel/SamsaraWheel.tsx`:
   - Main component receiving no required props (gets projectId from useParams)
   - Renders a full-size centered container (flex items-center justify-center, h-full)
   - SVG element with viewBox="-260 -260 520 520", width and height responsive (use w-full h-full max-w-[520px] max-h-[520px] or similar)
   - Decorative outer ring: a thin circle at radius ~245 with dashed stroke, very low opacity (Bhavachakra-inspired). Consider a second decorative ring at radius ~250 with dotted pattern.
   - Map WHEEL_SECTIONS to WheelSection components
   - Render YamaHub in center
   - useNavigate + useParams for click handling: onClick={() => navigate(`/project/${id}/${section.route}`)
   - Background: subtle radial gradient glow behind the wheel (CSS on the container div, not SVG)

5. Add breathing animation to `src/renderer/styles/globals.css`:

   ```css
   @keyframes breathe {
     0%,
     100% {
       opacity: 0.6;
       transform: scale(1);
     }
     50% {
       opacity: 1;
       transform: scale(1.05);
     }
   }
   .yama-breathe {
     animation: breathe 3.5s ease-in-out infinite;
   }
   ```

6. Update `src/renderer/routes/ProjectView.tsx`:
   - Replace the Plan 01 placeholder with the real SamsaraWheel component
   - Import and render `<SamsaraWheel />` as the full content
   - This is the index route for /project/:id — it's the wheel view

DESIGN NOTES (from CONTEXT.md):

- Elevated visual: gradients, glows, subtle decorative rings on dark background
- Each wedge gets distinct muted/pastel accent color (defined in types.ts)
- Wheel fills most of the project view (~500px diameter)
- Stats on hover tooltip only — clean surface at rest
- Click wedge = navigate to section (wheel fades out via AnimatePresence in ProjectLayout)
- No mini-wheel in section views — always return to wheel via back button
  </action>
  <verify> - `npx tsc --noEmit` passes - `npx vitest run` — tests pass - All 4 new files in src/renderer/components/wheel/ exist and have content - ProjectView.tsx imports and renders SamsaraWheel
  </verify>
  <done> - 5 colored wedges visible in SVG wheel with icons and labels - Clicking Candidate Search wedge navigates to /project/:id/search - Clicking other wedges navigates to placeholder sections - Yama hub shows eye icon with breathing pulse - Decorative ring visible outside wedges - Hover shows tooltip with section name and placeholder stats
  </done>
  </task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Samsara Wheel navigation UI with 5 wedges, Yama hub, decorative ring, animations, and section navigation</what-built>
  <how-to-verify>
    1. Run `npm start`
    2. Click any project in the sidebar
    3. Verify: You see the Samsara Wheel centered in the project view with 5 colored wedges, eye icon in center, decorative outer ring
    4. Hover over wedges: tooltip appears with section name and placeholder stats
    5. Click "Candidate Search" wedge: animated transition to M1 features (QueueTabs, JDPanel, etc.)
    6. Click back button in section header: returns to wheel
    7. Click other wedges: shows "Coming Soon" placeholder sections
    8. Verify Yama hub has breathing pulse animation on the eye icon
    9. Overall aesthetic: elevated, dark background, glowing, Bhavachakra-inspired
  </how-to-verify>
  <resume-signal>Type "approved" or describe visual/functional issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` — no type errors
2. `npx vitest run` — tests pass
3. Visual: Wheel renders with 5 wedges, icons, labels, decorative ring, Yama hub with breathing eye
4. Navigation: Each wedge navigates to correct route, back button returns to wheel
5. Animation: Wheel fades out on section entry, section fades in (AnimatePresence from Plan 01)
</verification>

<success_criteria>

- User sees Samsara Wheel with 5 sections and Yama hub when inside a project (NAV-01)
- User can click any wheel section to navigate to that feature area (NAV-02)
- Existing M1 features accessible via Candidate Search section (NAV-03)
- Yama hub displays as visual placeholder with eye icon and "coming soon" label (NAV-05)
- Hover tooltips show status indicators with placeholder values (NAV-04 partial)
- Visual aesthetic matches elevated design: gradients, glows, muted pastels on dark background
  </success_criteria>

<output>
After completion, create `.planning/phases/08-samsara-wheel-foundation/08-02-SUMMARY.md`
</output>
