---
phase: 03-visual-editor
plan: 04
type: execute
wave: 4
depends_on: ["03-01", "03-02", "03-03"]
files_modified:
  - src/renderer/App.tsx
  - src/renderer/components/editor/CVEditor.tsx
  - src/renderer/components/editor/ContactSection.tsx
  - src/renderer/components/editor/WorkSection.tsx
  - src/renderer/components/editor/EducationSection.tsx
  - src/renderer/components/editor/SkillsSection.tsx
  - src/renderer/components/editor/EditableField.tsx
  - src/renderer/components/editor/ConfidenceBadge.tsx
  - src/renderer/hooks/useDebounce.ts
autonomous: true

must_haves:
  truths:
    - "User can view CV details in editor panel when CV is selected"
    - "User can see all contact fields (name, email, phone, etc.)"
    - "User can see work history entries with company, position, dates"
    - "User can see education entries with institution, degree, dates"
    - "User can see skills grouped by category"
    - "User can click any field to edit it inline"
    - "Low-confidence fields (below 70%) are highlighted yellow"
    - "Field edits save automatically after typing stops (debounced)"
    - "User can close editor and return to queue view"
  artifacts:
    - path: "src/renderer/components/editor/CVEditor.tsx"
      provides: "Main editor panel component"
      exports: ["CVEditor"]
    - path: "src/renderer/components/editor/EditableField.tsx"
      provides: "Click-to-edit field component"
      exports: ["EditableField"]
    - path: "src/renderer/components/editor/ConfidenceBadge.tsx"
      provides: "Confidence indicator badge"
      exports: ["ConfidenceBadge"]
    - path: "src/renderer/hooks/useDebounce.ts"
      provides: "Debounce hook for auto-save"
      exports: ["useDebounce"]
  key_links:
    - from: "src/renderer/components/editor/CVEditor.tsx"
      to: "src/renderer/stores/editorStore.ts"
      via: "useEditorStore hook"
      pattern: "useEditorStore"
    - from: "src/renderer/components/editor/EditableField.tsx"
      to: "window.api.updateCVField"
      via: "Debounced IPC save"
      pattern: "updateCVField"
    - from: "src/renderer/App.tsx"
      to: "src/renderer/components/editor/CVEditor.tsx"
      via: "Conditional render when activeCVId set"
      pattern: "activeCVId.*CVEditor"
---

<objective>
Build the CV editor with inline field editing and confidence highlighting.

Purpose: Enable recruiters to review extracted data and fix parsing errors directly. Low-confidence fields are highlighted to draw attention to items needing review. Edits save immediately via debounced IPC calls.

Output: Full CV editor with contact, work history, education, and skills sections, all with inline editing and auto-save.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/03-visual-editor/03-CONTEXT.md
@.planning/phases/03-visual-editor/03-RESEARCH.md

# Prior plan outputs
@src/renderer/stores/editorStore.ts
@src/renderer/types/cv.ts
@src/renderer/components/ui/input.tsx
@src/renderer/components/ui/badge.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create utility hooks and base editor components</name>
  <files>src/renderer/hooks/useDebounce.ts, src/renderer/components/editor/ConfidenceBadge.tsx, src/renderer/components/editor/EditableField.tsx</files>
  <action>
Create `src/renderer/hooks/useDebounce.ts`:

```typescript
import { useEffect, useRef, useCallback } from 'react';

/**
 * Returns a debounced version of the callback.
 * The callback will be called after `delay` ms of no calls.
 */
export function useDebounce<T extends (...args: any[]) => any>(
  callback: T,
  delay: number
): T {
  const timeoutRef = useRef<NodeJS.Timeout | null>(null);
  const callbackRef = useRef(callback);

  // Keep callback ref updated
  useEffect(() => {
    callbackRef.current = callback;
  }, [callback]);

  const debouncedCallback = useCallback(
    (...args: Parameters<T>) => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
      timeoutRef.current = setTimeout(() => {
        callbackRef.current(...args);
      }, delay);
    },
    [delay]
  ) as T;

  // Cleanup on unmount
  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
    };
  }, []);

  return debouncedCallback;
}
```

Create `src/renderer/components/editor/ConfidenceBadge.tsx`:

```tsx
import { cn } from '../../lib/utils';

interface ConfidenceBadgeProps {
  value: number;
  threshold?: number;
  showPercentage?: boolean;
  className?: string;
}

export function ConfidenceBadge({
  value,
  threshold = 0.7,
  showPercentage = true,
  className,
}: ConfidenceBadgeProps) {
  const isLow = value < threshold;
  const percentage = Math.round(value * 100);

  return (
    <span
      className={cn(
        'inline-flex items-center px-2 py-0.5 rounded text-xs font-mono border',
        isLow
          ? 'bg-warning/20 text-warning border-warning'
          : 'bg-primary/20 text-primary border-primary',
        className
      )}
      title={
        isLow
          ? 'Low confidence - AI was uncertain about this value'
          : 'High confidence'
      }
    >
      {showPercentage && `${percentage}%`}
      {isLow && <span className="ml-1">!</span>}
    </span>
  );
}
```

Create `src/renderer/components/editor/EditableField.tsx`:

```tsx
import { useState, useRef, useEffect, useCallback } from 'react';
import { useDebounce } from '../../hooks/useDebounce';
import { cn } from '../../lib/utils';

interface EditableFieldProps {
  value: string;
  cvId: string;
  fieldPath: string;
  confidence?: number;
  placeholder?: string;
  multiline?: boolean;
  validate?: (value: string) => string | null;
  onSave?: () => void;
}

const LOW_CONFIDENCE_THRESHOLD = 0.7;

export function EditableField({
  value,
  cvId,
  fieldPath,
  confidence,
  placeholder = 'Click to add',
  multiline = false,
  validate,
  onSave,
}: EditableFieldProps) {
  const [isEditing, setIsEditing] = useState(false);
  const [editValue, setEditValue] = useState(value);
  const [error, setError] = useState<string | null>(null);
  const inputRef = useRef<HTMLInputElement | HTMLTextAreaElement>(null);

  const isLowConfidence = confidence !== undefined && confidence < LOW_CONFIDENCE_THRESHOLD;

  // Sync with prop changes
  useEffect(() => {
    if (!isEditing) {
      setEditValue(value);
    }
  }, [value, isEditing]);

  // Focus input when editing starts
  useEffect(() => {
    if (isEditing && inputRef.current) {
      inputRef.current.focus();
      inputRef.current.select();
    }
  }, [isEditing]);

  // Debounced save function (400ms delay)
  const saveToDatabase = useCallback(
    async (newValue: string) => {
      if (validate) {
        const validationError = validate(newValue);
        if (validationError) {
          setError(validationError);
          return;
        }
      }

      try {
        await window.api.updateCVField(cvId, fieldPath, newValue);
        setError(null);
        onSave?.();
      } catch (err) {
        console.error('Failed to save field:', err);
        setError('Save failed');
      }
    },
    [cvId, fieldPath, validate, onSave]
  );

  const debouncedSave = useDebounce(saveToDatabase, 400);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    const newValue = e.target.value;
    setEditValue(newValue);
    setError(null);
    debouncedSave(newValue);
  };

  const handleBlur = () => {
    // Final save on blur (in case debounce hasn't fired yet)
    saveToDatabase(editValue);
    setIsEditing(false);
  };

  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'Escape') {
      setEditValue(value);
      setIsEditing(false);
      setError(null);
    }
    if (e.key === 'Enter' && !multiline) {
      saveToDatabase(editValue);
      setIsEditing(false);
    }
  };

  if (isEditing) {
    const inputClass = cn(
      'w-full bg-input border rounded px-2 py-1 text-foreground font-mono',
      'focus:outline-none focus:ring-1 focus:ring-primary',
      error && 'border-destructive focus:ring-destructive'
    );

    return (
      <div className="relative">
        {multiline ? (
          <textarea
            ref={inputRef as React.RefObject<HTMLTextAreaElement>}
            value={editValue}
            onChange={handleChange}
            onBlur={handleBlur}
            onKeyDown={handleKeyDown}
            className={cn(inputClass, 'min-h-[60px] resize-y')}
            rows={3}
          />
        ) : (
          <input
            ref={inputRef as React.RefObject<HTMLInputElement>}
            type="text"
            value={editValue}
            onChange={handleChange}
            onBlur={handleBlur}
            onKeyDown={handleKeyDown}
            className={inputClass}
          />
        )}
        {error && (
          <span className="absolute -bottom-5 left-0 text-destructive text-xs">
            {error}
          </span>
        )}
      </div>
    );
  }

  return (
    <span
      onClick={() => setIsEditing(true)}
      className={cn(
        'inline-block cursor-pointer px-1 py-0.5 rounded transition-colors min-w-[100px]',
        'hover:bg-primary/10',
        isLowConfidence && 'bg-warning/20 border border-warning',
        !value && 'text-muted-foreground italic'
      )}
      title={isLowConfidence ? 'Low confidence - click to review' : 'Click to edit'}
    >
      {value || placeholder}
    </span>
  );
}
```
  </action>
  <verify>
    - All files created
    - TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>Debounce hook, ConfidenceBadge, and EditableField components created with auto-save and low-confidence highlighting</done>
</task>

<task type="auto">
  <name>Task 2: Create section editor components (Contact, Work, Education, Skills)</name>
  <files>src/renderer/components/editor/ContactSection.tsx, src/renderer/components/editor/WorkSection.tsx, src/renderer/components/editor/EducationSection.tsx, src/renderer/components/editor/SkillsSection.tsx</files>
  <action>
Create `src/renderer/components/editor/ContactSection.tsx`:

```tsx
import { EditableField } from './EditableField';
import type { ContactInfo } from '../../types/cv';

interface ContactSectionProps {
  cvId: string;
  contact: ContactInfo;
}

export function ContactSection({ cvId, contact }: ContactSectionProps) {
  const fields: { key: keyof ContactInfo; label: string }[] = [
    { key: 'name', label: 'Name' },
    { key: 'email', label: 'Email' },
    { key: 'phone', label: 'Phone' },
    { key: 'address', label: 'Address' },
    { key: 'linkedin', label: 'LinkedIn' },
    { key: 'github', label: 'GitHub' },
    { key: 'portfolio', label: 'Portfolio' },
  ];

  return (
    <section className="space-y-4">
      <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
        Contact Information
      </h2>
      <div className="grid grid-cols-2 gap-4">
        {fields.map((field) => (
          <div key={field.key}>
            <label className="block text-xs text-muted-foreground mb-1">
              {field.label}
            </label>
            <EditableField
              value={contact[field.key] || ''}
              cvId={cvId}
              fieldPath={`contact.${field.key}`}
              placeholder={`Add ${field.label.toLowerCase()}`}
            />
          </div>
        ))}
      </div>
    </section>
  );
}
```

Create `src/renderer/components/editor/WorkSection.tsx`:

```tsx
import { EditableField } from './EditableField';
import { ConfidenceBadge } from './ConfidenceBadge';
import type { WorkEntry } from '../../types/cv';

interface WorkSectionProps {
  cvId: string;
  workHistory: WorkEntry[];
}

export function WorkSection({ cvId, workHistory }: WorkSectionProps) {
  if (!workHistory || workHistory.length === 0) {
    return (
      <section className="space-y-4">
        <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
          Work History
        </h2>
        <p className="text-muted-foreground italic">No work history extracted</p>
      </section>
    );
  }

  return (
    <section className="space-y-4">
      <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
        Work History
      </h2>
      <div className="space-y-6">
        {workHistory.map((entry, index) => (
          <div
            key={index}
            className="p-4 bg-card rounded border border-border space-y-3"
          >
            <div className="flex items-start justify-between">
              <div className="flex-1 space-y-2">
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Position
                    </label>
                    <EditableField
                      value={entry.position}
                      cvId={cvId}
                      fieldPath={`work_history.[${index}].position`}
                      confidence={entry.confidence}
                      placeholder="Add position"
                    />
                  </div>
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Company
                    </label>
                    <EditableField
                      value={entry.company}
                      cvId={cvId}
                      fieldPath={`work_history.[${index}].company`}
                      confidence={entry.confidence}
                      placeholder="Add company"
                    />
                  </div>
                </div>
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Start Date
                    </label>
                    <EditableField
                      value={entry.start_date || ''}
                      cvId={cvId}
                      fieldPath={`work_history.[${index}].start_date`}
                      placeholder="Add start date"
                    />
                  </div>
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      End Date
                    </label>
                    <EditableField
                      value={entry.end_date || ''}
                      cvId={cvId}
                      fieldPath={`work_history.[${index}].end_date`}
                      placeholder="Present"
                    />
                  </div>
                </div>
                <div>
                  <label className="block text-xs text-muted-foreground mb-1">
                    Description
                  </label>
                  <EditableField
                    value={entry.description}
                    cvId={cvId}
                    fieldPath={`work_history.[${index}].description`}
                    placeholder="Add description"
                    multiline
                  />
                </div>
                {entry.highlights && entry.highlights.length > 0 && (
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Highlights
                    </label>
                    <ul className="list-disc list-inside text-sm space-y-1">
                      {entry.highlights.map((highlight, hIndex) => (
                        <li key={hIndex} className="text-foreground">
                          {highlight}
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
              </div>
              <ConfidenceBadge value={entry.confidence} />
            </div>
          </div>
        ))}
      </div>
    </section>
  );
}
```

Create `src/renderer/components/editor/EducationSection.tsx`:

```tsx
import { EditableField } from './EditableField';
import { ConfidenceBadge } from './ConfidenceBadge';
import type { EducationEntry } from '../../types/cv';

interface EducationSectionProps {
  cvId: string;
  education: EducationEntry[];
}

export function EducationSection({ cvId, education }: EducationSectionProps) {
  if (!education || education.length === 0) {
    return (
      <section className="space-y-4">
        <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
          Education
        </h2>
        <p className="text-muted-foreground italic">No education extracted</p>
      </section>
    );
  }

  return (
    <section className="space-y-4">
      <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
        Education
      </h2>
      <div className="space-y-6">
        {education.map((entry, index) => (
          <div
            key={index}
            className="p-4 bg-card rounded border border-border space-y-3"
          >
            <div className="flex items-start justify-between">
              <div className="flex-1 space-y-2">
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Institution
                    </label>
                    <EditableField
                      value={entry.institution}
                      cvId={cvId}
                      fieldPath={`education.[${index}].institution`}
                      confidence={entry.confidence}
                      placeholder="Add institution"
                    />
                  </div>
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Degree
                    </label>
                    <EditableField
                      value={entry.degree}
                      cvId={cvId}
                      fieldPath={`education.[${index}].degree`}
                      confidence={entry.confidence}
                      placeholder="Add degree"
                    />
                  </div>
                </div>
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Field of Study
                    </label>
                    <EditableField
                      value={entry.field_of_study || ''}
                      cvId={cvId}
                      fieldPath={`education.[${index}].field_of_study`}
                      placeholder="Add field"
                    />
                  </div>
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Grade
                    </label>
                    <EditableField
                      value={entry.grade || ''}
                      cvId={cvId}
                      fieldPath={`education.[${index}].grade`}
                      placeholder="Add grade"
                    />
                  </div>
                </div>
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      Start Date
                    </label>
                    <EditableField
                      value={entry.start_date || ''}
                      cvId={cvId}
                      fieldPath={`education.[${index}].start_date`}
                      placeholder="Add start date"
                    />
                  </div>
                  <div>
                    <label className="block text-xs text-muted-foreground mb-1">
                      End Date
                    </label>
                    <EditableField
                      value={entry.end_date || ''}
                      cvId={cvId}
                      fieldPath={`education.[${index}].end_date`}
                      placeholder="Add end date"
                    />
                  </div>
                </div>
              </div>
              <ConfidenceBadge value={entry.confidence} />
            </div>
          </div>
        ))}
      </div>
    </section>
  );
}
```

Create `src/renderer/components/editor/SkillsSection.tsx`:

```tsx
import type { SkillGroup } from '../../types/cv';

interface SkillsSectionProps {
  cvId: string;
  skills: SkillGroup[];
}

export function SkillsSection({ cvId, skills }: SkillsSectionProps) {
  if (!skills || skills.length === 0) {
    return (
      <section className="space-y-4">
        <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
          Skills
        </h2>
        <p className="text-muted-foreground italic">No skills extracted</p>
      </section>
    );
  }

  return (
    <section className="space-y-4">
      <h2 className="text-lg font-semibold text-primary border-b border-border pb-2">
        Skills
      </h2>
      <div className="space-y-4">
        {skills.map((group, index) => (
          <div key={index}>
            <h3 className="text-sm font-medium text-foreground mb-2">
              {group.category}
            </h3>
            <div className="flex flex-wrap gap-2">
              {group.skills.map((skill, skillIndex) => (
                <span
                  key={skillIndex}
                  className="px-2 py-1 bg-card border border-border rounded text-sm"
                >
                  {skill}
                </span>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>
  );
}
```

Note: Skills section shows read-only skill tags for now. Inline editing of skills arrays is more complex (add/remove/reorder) and can be enhanced in a future phase.
  </action>
  <verify>
    - All section component files created
    - TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>Contact, Work, Education, and Skills section components created with inline editing and confidence badges</done>
</task>

<task type="auto">
  <name>Task 3: Create CVEditor and integrate into App layout</name>
  <files>src/renderer/components/editor/CVEditor.tsx, src/renderer/components/editor/index.ts, src/renderer/App.tsx</files>
  <action>
Create `src/renderer/components/editor/CVEditor.tsx`:

```tsx
import { useEditorStore } from '../../stores/editorStore';
import { Button } from '../ui/button';
import { ContactSection } from './ContactSection';
import { WorkSection } from './WorkSection';
import { EducationSection } from './EducationSection';
import { SkillsSection } from './SkillsSection';
import { ConfidenceBadge } from './ConfidenceBadge';

export function CVEditor() {
  const activeCVId = useEditorStore((state) => state.activeCVId);
  const activeCV = useEditorStore((state) => state.activeCV);
  const setActiveCV = useEditorStore((state) => state.setActiveCV);

  if (!activeCVId || !activeCV) {
    return null;
  }

  const handleClose = () => {
    setActiveCV(null);
  };

  return (
    <div className="h-full flex flex-col bg-background border-l border-border">
      {/* Editor header */}
      <div className="flex items-center justify-between px-4 py-3 border-b border-border">
        <div className="flex items-center gap-3">
          <h2 className="font-semibold text-foreground">CV Editor</h2>
          {activeCV.parse_confidence !== undefined && (
            <ConfidenceBadge value={activeCV.parse_confidence} />
          )}
        </div>
        <Button
          variant="ghost"
          size="sm"
          onClick={handleClose}
          className="text-muted-foreground hover:text-foreground"
        >
          Close
        </Button>
      </div>

      {/* Editor content - scrollable */}
      <div className="flex-1 overflow-y-auto p-4 space-y-8">
        <ContactSection cvId={activeCVId} contact={activeCV.contact} />
        <WorkSection cvId={activeCVId} workHistory={activeCV.work_history} />
        <EducationSection cvId={activeCVId} education={activeCV.education} />
        <SkillsSection cvId={activeCVId} skills={activeCV.skills} />

        {/* Warnings section if any */}
        {activeCV.warnings && activeCV.warnings.length > 0 && (
          <section className="space-y-4">
            <h2 className="text-lg font-semibold text-warning border-b border-warning pb-2">
              Parsing Warnings
            </h2>
            <ul className="list-disc list-inside space-y-1 text-warning">
              {activeCV.warnings.map((warning, index) => (
                <li key={index}>{warning}</li>
              ))}
            </ul>
          </section>
        )}
      </div>
    </div>
  );
}
```

Create index file `src/renderer/components/editor/index.ts`:

```typescript
export { CVEditor } from './CVEditor';
export { ContactSection } from './ContactSection';
export { WorkSection } from './WorkSection';
export { EducationSection } from './EducationSection';
export { SkillsSection } from './SkillsSection';
export { EditableField } from './EditableField';
export { ConfidenceBadge } from './ConfidenceBadge';
```

Update `src/renderer/App.tsx` to show editor in split view:

```tsx
import { useEffect } from 'react';
import { QueueTabs } from './components/queue/QueueTabs';
import { CVEditor } from './components/editor/CVEditor';
import { useQueueStore } from './stores/queueStore';
import { useEditorStore } from './stores/editorStore';
import './styles/globals.css';

export function App() {
  const loadFromDatabase = useQueueStore((state) => state.loadFromDatabase);
  const activeCVId = useEditorStore((state) => state.activeCVId);

  // Load existing CVs from database on mount
  useEffect(() => {
    loadFromDatabase();
  }, [loadFromDatabase]);

  return (
    <div className="h-screen flex flex-col bg-background">
      {/* Header */}
      <header className="flex items-center justify-between px-4 py-2 border-b border-border">
        <div>
          <h1 className="text-lg font-bold text-primary">Samsara</h1>
        </div>
      </header>

      {/* Main content - split view when CV is selected */}
      <main className="flex-1 overflow-hidden flex">
        {/* Queue panel - takes full width when no CV selected, 50% when editing */}
        <div className={activeCVId ? 'w-1/2 border-r border-border' : 'w-full'}>
          <QueueTabs />
        </div>

        {/* Editor panel - only visible when CV selected */}
        {activeCVId && (
          <div className="w-1/2">
            <CVEditor />
          </div>
        )}
      </main>
    </div>
  );
}
```
  </action>
  <verify>
    - All files created
    - TypeScript compiles: `npx tsc --noEmit`
    - `npm run start` launches app
    - Click completed CV in queue -> editor panel opens on right
    - Editor shows Contact, Work History, Education, Skills sections
    - Click field -> edit mode activates with input
    - Type in field -> value updates, saves after 400ms (check console for IPC calls)
    - Low-confidence fields have yellow highlight
    - Close button returns to full-width queue view
  </verify>
  <done>CVEditor created with all sections, App updated for split-view layout when CV selected</done>
</task>

</tasks>

<verification>
After completing all tasks:

1. **Split view**: Click completed CV -> queue shrinks to 50%, editor appears on right
2. **Contact section**: All 7 fields shown with editable values
3. **Work section**: Each entry shows position, company, dates, description with confidence badge
4. **Education section**: Each entry shows institution, degree, field, dates, grade with confidence badge
5. **Skills section**: Categories with skill tags displayed
6. **Inline editing**:
   - Click field -> input appears
   - Type -> value updates
   - Tab/click away -> saves to database
   - ESC cancels edit
7. **Low-confidence highlighting**: Fields below 70% have yellow background/border
8. **Auto-save**: Changes persist after closing and reopening editor
9. **Close button**: Returns to full-width queue view
</verification>

<success_criteria>
- CVEditor renders when activeCVId is set
- ContactSection shows all contact fields with inline editing
- WorkSection shows work entries with confidence badges
- EducationSection shows education entries with confidence badges
- SkillsSection shows skill groups as tags
- EditableField saves via debounced IPC (400ms delay)
- Low-confidence fields (< 70%) have warning styling
- Close button clears activeCVId and returns to queue-only view
- All edits persist to SQLite and survive app restart
</success_criteria>

<output>
After completion, create `.planning/phases/03-visual-editor/03-04-SUMMARY.md`
</output>
